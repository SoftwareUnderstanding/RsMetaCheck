{"somef_provenance": {"somef_version": "0.9.12", "somef_schema_version": "1.0.0", "date": "2025-11-17 15:02:52"}, "code_repository": [{"result": {"value": "https://github.com/ropensci/ssarp", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://github.com/ropensci/ssarp", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, {"result": {"value": "https://github.com/ropensci/ssarp", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "owner": [{"result": {"value": "ropensci", "type": "Organization"}, "confidence": 1, "technique": "GitHub_API"}], "date_created": [{"result": {"value": "2022-12-07T04:58:40Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "date_updated": [{"result": {"value": "2025-10-13T21:49:17Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "description": [{"result": {"value": "Repo for the R Package ssarp (Species-/Speciation-Area Relationship Projector)", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Create Species- and Speciation-Area Relationships using occurrence \n  records or presence-absence matrices.", "type": "String", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, {"result": {"value": "Create Species- and Speciation-Area Relationships using occurrence records or presence-absence matrices.", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}, {"result": {"value": "1.  Use `rgbif` to gather occurrence records, or input your own\n    dataframe of occurrence records.\n2.  Use `find_land()` with the dataframe obtained in Step 1 to figure\n    out the names of landmasses using the occurrence record GPS points\n    and the [*maps* R\n    package](https://cran.r-project.org/web/packages/maps/index.html).\n    Setting the `fillgaps` parameter to `TRUE` will enable the use of\n    [Photon API](https://photon.komoot.io/) to fill in any missing\n    landmass names left by the *maps* R package.\n3.  Use `find_areas()` with the dataframe obtained in Step 2 to match\n    the landmass names to a dataset that includes names of most islands\n    on the planet and their areas. If the user would like to use a\n    custom island area dataset instead of the built-in one, the\n    `area_custom` parameter can be set to the name of the custom island\n    area dataframe. If you\u2019d like to only include occurrence records\n    from islands, you can remove continental records by using\n    `remove_continents()` with the dataframe returned by `find_areas()`\n4.  Use `create_sar()` with the dataframe obtained in Step 3 to create a\n    species-area relationship plot that reports information important to\n    the associated regression. The `npsi` parameter indicates the\n    maximum number of breakpoints the user would like to compare for\n    model selection. The returned model and plot correspond with the\n    best-fit model.\n", "type": "Text_excerpt", "original_header": "Workflow Summary for using data from GBIF to create a species-area relationship plot", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "1.  Use `rgbif` to gather occurrence records, or input your own\n    dataframe of occurrence records.\n2.  Use `find_land()` with the dataframe obtained in Step 1 to figure\n    out the names of landmasses using the occurrence record GPS points\n    and the [*maps* R\n    package](https://cran.r-project.org/web/packages/maps/index.html).\n    Setting the `fillgaps` parameter to `TRUE` will enable the use of\n    [Photon API](https://photon.komoot.io/) to fill in any missing\n    landmass names left by the *maps* R package.\n3.  Use `find_areas()` with the dataframe obtained in Step 2 to match\n    the landmass names to a dataset that includes names of most islands\n    on the planet and their areas. If the user would like to use a\n    custom island area dataset instead of the built-in one, the\n    `area_custom` parameter can be set to the name of the custom island\n    area dataframe. If you\u2019d like to only include occurrence records\n    from islands, you can remove continental records by using\n    `remove_continents()` with the dataframe returned by `find_areas()`\n4.  Use either `estimate_dr()` or `estimate_ms()` with your own\n    phylogenetic tree that corresponds with the taxa signified in\n    previous steps, a classifier that describes your tip labels (whether\n    the tip labels are simply species epithets or full scientific\n    names), and the dataframe obtained in Step 3 to add tip speciation\n    rates using the DR statistic (Jetz et al.\u00a02012) or the lambda\n    calculation for crown groups from Magall\u00f3n and Sanderson (2001)\n    respectively to the occurrence dataframe. The user may also choose\n    to estimate tip speciation rates from a BAMM analysis (Rabosky 2014)\n    by using `estimate_bamm()` with a classifier that describes your tip\n    labels (whether the tip labels are simply species epithets or full\n    scientific names), the occurrence record dataframe obtained in Step\n    3, and a `bammdata` object generated by reading the event data file\n    from a BAMM analysis with the *BAMMtools* package (Rabosky et\n    al.\u00a02014).\n5.  Use `create_spar(occ, npsi)` with the dataframe obtained in Step 4\n    to create a speciation-area relationship plot that reports\n    information important to the associated regression. The `npsi`\n    parameter indicates the maximum number of breakpoints the user would\n    like to compare for model selection. The returned model and plot\n    correspond with the best-fit model.\n", "type": "Text_excerpt", "original_header": "Workflow summary for using data from GBIF and a user-provided phylogenetic tree to create a speciation-area relationship plot", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"type": "Text_excerpt", "value": "\n`ssarp` (Species-/Speciation-Area Relationship Projector) is an R\npackage that provides a suite of functions to help users **create\nspeciation- and species- area relationships for island-dwelling taxa**\nusing occurrence data from GBIF (Global Biodiversity Information\nFacility) or the user\u2019s own occurrence data. \nThe species-area relationship (SAR) is an important metric for\nquantifying patterns of biodiversity on islands within an island\nbiogeographical framework. SARs visualize the relationship between\nspecies richness (the number of species) and the area of the island on\nwhich they live. \nAdditionally, the potential for speciation on islands can be visualized\nusing a speciation-area relationship (SpAR), which plots speciation\nrates against the area of the island on which the associated species\nlive. Creating both a SAR and a SpAR for taxa on a given archipelago can\nhelp researchers answer questions about the drivers of biodiversity in\ntheir systems (e.g., Is there a threshold for island size at which point\n*in situ* speciation drives species richness in the archipelago?). \nSARs and SpARs are also useful for determining whether biodiversity is\ndistributed in an unusual way in a given island system (e.g., species\nrichness decreasing as islands get larger instead of increasing). An\nunusual trend in these relationships may be indicative of habitat loss\nor a negative impact of non-native species. \nPlease note that this package is released with a [Contributor Code of\nConduct](https://ropensci.org/code-of-conduct/). By contributing to this\nproject, you agree to abide by its terms.\n \n", "original_header": "ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>"}, "confidence": 0.8985774572521402, "technique": "supervised_classification", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"type": "Text_excerpt", "value": "If you want a deeper exploration of SAR models once you\u2019ve completed\nyour analyses with `ssarp`, the `ssarp::get_richness()` function can\ncreate a species richness dataframe for use in the [sars R\npackage](https://txm676.github.io/sars/articles/sars-r-package.html).\nThe `sars` package allows users to fit a wide variety of SAR models that\n`ssarp` does not create.\n \n", "original_header": "Extending Your SAR Analysees"}, "confidence": 0.9198162757213824, "technique": "supervised_classification", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "name": [{"result": {"value": "ssarp", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "ssarp: Species-/Speciation-Area Relationship Projector", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "full_name": [{"result": {"value": "ropensci/ssarp", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}], "issue_tracker": [{"result": {"value": "https://api.github.com/repos/ropensci/ssarp/issues", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://github.com/ropensci/ssarp/issues", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, {"result": {"value": "https://github.com/ropensci/ssarp/issues", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "forks_url": [{"result": {"value": "https://api.github.com/repos/ropensci/ssarp/forks", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "stargazers_count": [{"result": {"value": 5, "type": "Number"}, "confidence": 1, "technique": "GitHub_API"}], "forks_count": [{"result": {"value": 2, "type": "Number"}, "confidence": 1, "technique": "GitHub_API"}], "homepage": [{"result": {"value": "https://docs.ropensci.org/ssarp", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://docs.ropensci.org/ssarp", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}], "download_url": [{"result": {"value": "https://github.com/kmartinet/SSARP/releases", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "programming_languages": [{"result": {"value": "R", "name": "R", "type": "Programming_language", "size": 117548}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"name": "R", "value": "R", "type": "Programming_language", "url": "https://r-project.org"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "readme_url": [{"result": {"value": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}, {"result": {"value": "https://github.com/ropensci/ssarp/blob/main/README.md", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}, {"result": {"value": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.md", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}], "has_build_file": [{"result": {"value": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION", "type": "Url", "format": "description"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}], "has_package_file": [{"result": {"value": "DESCRIPTION", "type": "Url", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}], "package_id": [{"result": {"value": "ssarp", "type": "String", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}], "version": [{"result": {"value": "0.5.0", "type": "String", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, {"result": {"value": "0.5.0", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "license": [{"result": {"value": "GPL (>=2)", "type": "String", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/DESCRIPTION"}, {"result": {"value": "https://spdx.org/licenses/GPL-2.0", "type": "License", "identifier": "https://spdx.org/licenses/https://spdx.org/licenses/GPL-2.0", "spdx_id": "https://spdx.org/licenses/GPL-2.0"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "continuous_integration": [{"result": {"value": ["https://codecov.io/gh/ropensci/ssarp?branch=main", "https://github.com/ropensci/ssarp/actions/workflows/R-CMD-check.yaml"], "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "development_status": [{"result": {"value": "https://www.repostatus.org/#active", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "identifier": [{"result": {"value": "ssarp", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "authors": [{"result": {"value": "Kristen Martinet", "type": "String", "email": "kmartinet@outlook.com", "identifier": "https://orcid.org/0000-0002-3905-9507"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/codemeta.json"}], "citation": [{"result": {"value": "citHeader(\"To cite SSARP in publications use:\")\n\nbibentry(\n  bibtype  = \"Article\",\n  title    = \"SSARP: An R Package for Easily Creating Species- and Speciation- Area Relationships Using Web Databases\",\n  author   = as.person(\"Kristen M. Martinet [aut], Cristian Rom\u00e1n-Palacios [aut], Luke J. Harmon [aut]\"),\n  journal  = \"bioRxiv\",\n  year     = \"2025\",\n  doi      = \"https://doi.org/10.1101/2024.12.31.630948\",\n  url      = \"https://www.biorxiv.org/content/10.1101/2024.12.31.630948v1\"\n)\n", "type": "File_dump", "format": "bibtex", "datePublished": "2025"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/inst/CITATION"}, {"result": {"value": "Please cite *ssarp* if you use it for your work! The citation is:\n\nMartinet, K.M., Rom\u00e1n-Palacios, C., & Harmon, L.J. (2025). \u201cSSARP: An R\nPackage for Easily Creating Species- and Speciation- Area Relationships\nUsing Web Databases.\u201d *bioRxiv*. <doi:10.1101/2024.12.31.630948>\n", "type": "Text_excerpt", "original_header": "Citing ssarp", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "- Barros, D.D., Mathias, M.d.L., Borges, P.A.V., & Borda-de-\u00c1gua, L.\n  (2023). The Importance of Including Spatial Autocorrelation When\n  Modelling Species Richness in Archipelagos: A Bayesian Approach.\n  Diversity, 15: 127.\n- Jetz, W., Thomas, G.H, Joy, J.B., Harmann, K., & Mooers, A.O. (2012).\n  The global diversity of birds in space and time. *Nature*, 491:\n  444-448.\n- Magall\u00f3n, S. & Sanderson, M.J. (2001). Absolute Diversification Rates\n  in Angiosperm Clades. *Evolution*, 55(9): 1762-1780.\n- Rabosky, D.L. (2014). Automatic Detection of Key Innovations, Rate\n  Shifts, and Diversity-Dependence on Phylogenetic Trees. PLOS ONE,\n  9(2): e89543.436\n- Rabosky, D.L., Grundler, M., Anderson, C., Title, P., Shi, J.J.,\n  Brown, J.W., Huang, H., & Larson, J.G. (2014). BAMMtools: an R package\n  for the analysis of evolutionary dynamics on phylogenetic trees.\n  Methods in Ecology and Evolution, 5: 701-707.\n- Triantis, K.A., Guilhaumon, F., & Whittaker, R.J. (2012), The island\n  species\u2013area relationship: biology and statistics. Journal of\n  Biogeography, 39: 215-231.", "type": "Text_excerpt", "original_header": "Literature Cited", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship", "Some helpful notes about well-known text (WKT) representation of geometry"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "contributing_guidelines": [{"result": {"value": "# Contributing to ssarp\n\nThank you for considering contributing to *ssarp*! The following guidelines were created by editing the CONTRIBUTING.md file created by `usethis::use_tidy_contributing()`.\n\n## Fixing typos\n\nYou can fix typos, spelling mistakes, or grammatical errors in the documentation directly using the GitHub web interface, as long as the changes are made in the _source_ file. \nThis generally means you'll need to edit [roxygen2 comments](https://roxygen2.r-lib.org/articles/roxygen2.html) in an `.R`, not a `.Rd` file. \nYou can find the `.R` file that generates the `.Rd` by reading the comment in the second line.\n\n## Bigger changes\n\nIf you want to make a bigger change, it's a good idea to first file an issue and make sure someone from the team agrees that it\u2019s needed. \nIf you\u2019ve found a bug, please file an issue that illustrates the bug with a minimal \n[reprex](https://www.tidyverse.org/help/#reprex) (this will also help you write a unit test, if needed).\nSee tidyverse's guide on [how to create a great issue](https://code-review.tidyverse.org/issues/) for more advice.\n\n### Pull request process\n\n*   Fork the package and clone onto your computer. If you haven't done this before, we recommend using `usethis::create_from_github(\"kmartinet/ssarp\", fork = TRUE)`.\n\n*   Install all development dependencies with `devtools::install_dev_deps()`, and then make sure the package passes R CMD check by running `devtools::check()`. \n    If R CMD check fails with an error, it's a good idea to ask for help before continuing. Warnings about non-ASCII strings in the `island_areas` object and the files in the `vignettes` subdirectory can be safely ignored.\n*   Create a Git branch for your pull request (PR). We recommend using `usethis::pr_init(\"brief-description-of-change\")`.\n\n*   Make your changes, commit to git, and then create a PR by running `usethis::pr_push()`, and following the prompts in your browser.\n    The title of your PR should briefly describe the change.\n    The body of your PR should contain `Fixes #issue-number`.\n\n### Code style\n\n*   Please do not restyle code that has nothing to do with your PR.\n\n*   New code should follow the tidyverse [style guide](https://style.tidyverse.org).\n\n*  We use [roxygen2](https://cran.r-project.org/package=roxygen2), with [Markdown syntax](https://cran.r-project.org/web/packages/roxygen2/vignettes/rd-formatting.html), for documentation.  \n\n*  We use [testthat](https://cran.r-project.org/package=testthat) for unit tests. \n   Contributions with test cases included are easier to accept.  \n\n## Code of Conduct\n\nPlease note that this package is released with a [Contributor Code of Conduct](https://ropensci.org/code-of-conduct/). \nBy contributing to this project, you agree to abide by its terms.\n", "type": "File_dump"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/.github/CONTRIBUTING.md"}], "installation": [{"result": {"value": "To install *ssarp*, use the \u201cinstall_github\u201d function from the\n*devtools* package:\n\n``` r\n# install.packages(\"devtools\")\nlibrary(devtools)\n\ninstall_github(\"ropensci/ssarp\")\n```\n", "type": "Text_excerpt", "original_header": "Installation", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "usage": [{"result": {"value": "A species-area relationship (SAR) visualizes the relationship between\nspecies richness (the number of species) and the area of the land mass\non which the species live. This brief example covers the *ssarp*\nworkflow for creating a SAR, and more detailed explanations of the code\nand methods can be found [in the Articles on the SSARP pkgdown\nwebsite](https://docs.ropensci.org/ssarp/index.html).\n\nIn order to construct a species-area relationship with *ssarp*, we will:\n\n- Gather occurrence data from GBIF\n- Filter out invalid occurrence records\n- Find areas of pertinent land masses\n- Create a species-area relationship\n", "type": "Text_excerpt", "original_header": "Example: Creating a Species-Area Relationship", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "In this step, we will find the unique identifying key associated with a\ntaxon of interest (the lizard genus *Anolis* in this case) and use that\nkey to access occurrence points for that taxon from GBIF. We will\nrestrict the returned occurrence records to the Caribbean islands using\nthe \u201cgeometry\u201d parameter in the `rgbif::occ_search()` function.\n\n``` r\n# Load libraries\nlibrary(rgbif)\nlibrary(ssarp)\n\n# Define query\nquery <- \"Anolis\"\nrank <- \"Genus\"\n\nsuggestions <- name_suggest(q = query, rank = rank)\n\n# The correct key is the first element in the first row\nkey <- as.numeric(suggestions$data[1,1])\n\n# Print key\nkey\n#> [1] 8782549\n```\n\nThe GBIF key for *Anolis* is 8782549. We will use this key, along with a\nWell-Known Text (WKT) polygon around Caribbean islands, to get data for\n*Anolis* from GBIF using the `rgbif::occ_search()` function.\n\n``` r\n\n# Get data for Anolis from GBIF in a specified polygon around Caribbean islands\noccurrences <- occ_search(taxonKey = key, \n                         limit = 10000,\n                         hasCoordinate = TRUE,\n                         geometry = 'POLYGON((-84.8 23.9, -84.7 16.4, -65.2 13.9, -63.1 11.0, -56.9 15.5, -60.5 21.9, -79.3 27.8, -79.8 24.8, -84.8 23.9))')\n\ndat <- occurrences$data\n\n# Print the first 5 lines of dat\nhead(dat, n = 5)\n#> # A tibble: 5 \u00d7 155\n#>   key        scientificName   decimalLatitude decimalLongitude issues datasetKey\n#>   <chr>      <chr>                      <dbl>            <dbl> <chr>  <chr>     \n#> 1 5006797301 Anolis hispanio\u2026            19.1            -70.6 cdc,c\u2026 50c9509d-\u2026\n#> 2 5006823165 Anolis distichu\u2026            18.7            -68.4 cdc    50c9509d-\u2026\n#> 3 5006863804 Anolis roquet (\u2026            14.8            -60.9 cdc,c\u2026 50c9509d-\u2026\n#> 4 5007014630 Anolis roquet (\u2026            14.8            -60.9 cdc,c\u2026 50c9509d-\u2026\n#> 5 5007024810 Anolis cristate\u2026            18.5            -66.1 cdc,c\u2026 50c9509d-\u2026\n#> # \u2139 149 more variables: publishingOrgKey <chr>, installationKey <chr>,\n#> #   hostingOrganizationKey <chr>, publishingCountry <chr>, protocol <chr>,\n#> #   lastCrawled <chr>, lastParsed <chr>, crawlId <int>, basisOfRecord <chr>,\n#> #   occurrenceStatus <chr>, taxonKey <int>, kingdomKey <int>, phylumKey <int>,\n#> #   classKey <int>, familyKey <int>, genusKey <int>, speciesKey <int>,\n#> #   acceptedTaxonKey <int>, acceptedScientificName <chr>, kingdom <chr>,\n#> #   phylum <chr>, family <chr>, genus <chr>, species <chr>, \u2026\n```\n\nThe \u201cdat\u201d dataframe above includes the first 10,000 records from GBIF\nfor *Anolis* within a specified polygon around the Caribbean islands.\n", "type": "Text_excerpt", "original_header": "Step 1: Gather occurrence data from GBIF", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "Now that we have a dataframe that includes the first 10,000 records for\n*Anolis* within a specified polygon around the Caribbean islands, we\nwill filter that data to include only occurrence records that are on\nland. Some occurrence records might have GPS points that are in the\nocean instead of on an island, so it is important to exclude these\ninvalid records.\n\n``` r\n\n# Find land mass names and exclude records not on land\nland_dat <- find_land(occurrences = dat)\n\n# Print first 5 lines of land_dat\nhead(land_dat, n = 5)\n#>                                        acceptedScientificName genericName\n#> 1 Anolis hispaniolae (K\u00f6hler, Zimmer, Mcgrath & Hedges, 2019)      Anolis\n#> 2                                 Anolis distichus Cope, 1861      Anolis\n#> 3                            Anolis roquet (Bonnaterre, 1789)      Anolis\n#> 4                            Anolis roquet (Bonnaterre, 1789)      Anolis\n#> 5                  Anolis cristatellus Dum\u00e9ril & Bibron, 1837      Anolis\n#>   specificEpithet decimalLongitude decimalLatitude              first second\n#> 1     hispaniolae        -70.59716        19.09851 Dominican Republic   <NA>\n#> 2       distichus        -68.40635        18.67363 Dominican Republic   <NA>\n#> 3          roquet        -60.89301        14.77053         Martinique   <NA>\n#> 4          roquet        -60.89301        14.77053         Martinique   <NA>\n#> 5    cristatellus        -66.12385        18.47122               <NA>   <NA>\n#>   third                           datasetKey\n#> 1  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7\n#> 2  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7\n#> 3  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7\n#> 4  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7\n#> 5  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7\n```\n\nThe \u201cland_dat\u201d dataframe above is a filtered version of the \u201cdat\u201d\ndataframe that we created by gathering data from GBIF. The \u201cland_dat\u201d\ndataframe includes occurrence records with GPS points that fall on a\nland mass, along with the locality information for that land mass.\n\nThe locality information is split across three columns: \u201cfirst,\u201d\n\u201csecond,\u201d and \u201cthird.\u201d The mapping utilities that *ssarp* uses sometimes\noutput different levels of specificity for locality information (up to\nthree different levels), so these columns provide space for these\ndifferent levels. The island name that we are interested in will be in\nthe last filled-in column of the three. For example, if there are two\ncolumns of locality information for a given occurrence record, the\nisland name will be in the second. If there is only one column of\nlocality information, it will contain the island name (as with Puerto\nRico and Antigua above). If all columns have NA, the occurrence record\nis invalid and will be filtered out in the next step.\n", "type": "Text_excerpt", "original_header": "Step 2: Filter out invalid occurrence records", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "Next, we will use the dataframe of occurrence records with their\nassociated land mass names (the \u201cland_dat\u201d object created above) with\nthe `ssarp::find_areas()` function to find the area of each land mass.\n\n``` r\n\n# Use the land mass names to get their areas\narea_dat <- find_areas(occs = land_dat)\n\n# Print the first 5 lines of area_dat\nhead(area_dat, n = 5)\n#>                                        acceptedScientificName genericName\n#> 1 Anolis hispaniolae (K\u00f6hler, Zimmer, Mcgrath & Hedges, 2019)      Anolis\n#> 2                                 Anolis distichus Cope, 1861      Anolis\n#> 3                            Anolis roquet (Bonnaterre, 1789)      Anolis\n#> 4                            Anolis roquet (Bonnaterre, 1789)      Anolis\n#> 8                            Anolis evermanni Stejneger, 1904      Anolis\n#>   specificEpithet decimalLongitude decimalLatitude              first second\n#> 1     hispaniolae        -70.59716        19.09851 Dominican Republic   <NA>\n#> 2       distichus        -68.40635        18.67363 Dominican Republic   <NA>\n#> 3          roquet        -60.89301        14.77053         Martinique   <NA>\n#> 4          roquet        -60.89301        14.77053         Martinique   <NA>\n#> 8       evermanni        -66.31459        18.29657        Puerto Rico   <NA>\n#>   third                           datasetKey       areas\n#> 1  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7 83104562500\n#> 2  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7 83104562500\n#> 3  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7  1190000000\n#> 4  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7  1190000000\n#> 8  <NA> 50c9509d-22c7-4a22-a47d-8c48425ef4a7  9710687500\n```\n\nThe \u201carea_dat\u201d dataframe includes records with GPS points that are\nassociated with a land mass, along with the areas of those land masses\n(in m^2).\n", "type": "Text_excerpt", "original_header": "Step 3: Find areas of pertinent land masses", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "Finally, we will generate the SAR using the `ssarp::create_sar()`\nfunction. The `ssarp::create_sar()` function creates multiple regression\nobjects with breakpoints up to the user-specified \u201cnpsi\u201d parameter. For\nexample, if \u201cnpsi\u201d is two, `ssarp::create_sar()` will generate\nregression objects with zero (linear regression), one, and two\nbreakpoints. The function will then return the regression object with\nthe lowest AIC score. The \u201cnpsi\u201d parameter will be set to one in this\nexample. Note that if linear regression (zero breakpoints) is\nbetter-supported than segmented regression with one breakpoint, the\nlinear regression will be returned instead.\n\n``` r\n\ncreate_sar(occurrences = area_dat, npsi = 1, visualize = TRUE)\n```\n\n<img src=\"man/figures/README-unnamed-chunk-6-1.png\" width=\"100%\" />\n\n    #> \n    #>  ***Regression Model with Segmented Relationship(s)***\n    #> \n    #> Call: \n    #> segmented.lm(obj = linear, seg.Z = ~x, npsi = 1, control = segmented::seg.control(display = FALSE))\n    #> \n    #> Estimated Break-Point(s):\n    #>          Est. St.Err\n    #> psi1.x 21.82  0.712\n    #> \n    #> Coefficients of the linear terms:\n    #>             Estimate Std. Error t value Pr(>|t|)\n    #> (Intercept) -0.09719    0.99566  -0.098    0.923\n    #> x            0.04734    0.05324   0.889    0.381\n    #> U1.x         0.74262    0.21150   3.511       NA\n    #> \n    #> Residual standard error: 0.5541 on 32 degrees of freedom\n    #> Multiple R-Squared: 0.6533,  Adjusted R-squared: 0.6208 \n    #> \n    #> Boot restarting based on 6 samples. Last fit:\n    #> Convergence attained in 2 iterations (rel. change 6.6315e-12)\n\nThis is the species-area relationship (SAR) for Anolis including\nisland-based occurrences within a polygon around Caribbean islands from\nthe first 10,000 records for the genus in GBIF! The best-fit model was a\nsegmented regression with one breakpoint. The R console will also output\nstatistical information about the model.\n", "type": "Text_excerpt", "original_header": "Step 4: Create the species-area relationship", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "Species-area relationships (SARs) and speciation-area relationships\n(SpARs) are impacted by the environmental and spatial characteristics of\nthe islands (or island-like areas) of interest. When inferring SARs and\nSpARs, researchers typically treat these effects as part of the broader\nbiogeographic processes that are captured by the SARs and SpARs\n(Triantis et al.\u00a02012). However, ignoring spatial effects when inferring\nSARs and SpARs can result in biased parameter estimates (Barros et\nal.\u00a02023). Please refer to [this vignette to learn more about how to\ntest for spatial autocorrelation when using `ssarp` to create SARs and\nSpARs](https://docs.ropensci.org/ssarp/articles/Spatial_Autocorrelation.html).\n", "type": "Text_excerpt", "original_header": "A Note About Spatial Autocorrelation", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}, {"result": {"value": "When using `rgbif::occ_search` to gather occurrence records from GBIF,\nthe user can specify a well-known text (WKT) representation of geometry\nto restrict the geographic location of the returned occurrence records.\nThe `rgbif::occ_search` function requires a counter-clockwise winding\norder for WKT. I find it helpful to think about WKT polygons in this\nway: imagine a square around your geographic area of interest and pick\none of the corners as a starting point. The order of points in WKT\nformat should follow counter-clockwise from the corner you picked first,\nand the final entry in the WKT string needs to be the same as the first\nentry. Additionally, while GPS points are typically represented in\n\u201clatitude, longitude\u201d format, WKT expects them in \u201clongitude latitude\u201d\nformat with commas separating the points rather than individual\nlongitude and latitude values. WKT polygons can have more specified\npoints than included in this simple square example, and even include\npolygons nested within others or polygons with holes in the middle.\n", "type": "Text_excerpt", "original_header": "Some helpful notes about well-known text (WKT) representation of geometry", "parent_header": ["ssarp <a href=\"https://docs.ropensci.org/ssarp/index.html\"><img src=\"man/figures/logo.png\" align=\"right\" height=\"300\" alt=\"ssarp website\" /></a>", "Example: Creating a Species-Area Relationship"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "full_title": [{"result": {"type": "String", "value": "ssarp"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "repository_status": [{"result": {"type": "Url", "value": "https://www.repostatus.org/#active", "description": "Active \u2013 The project has reached a stable, usable\nstate and is being actively\ndeveloped."}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "logo": [{"result": {"type": "Url", "value": "https://raw.githubusercontent.com/kmartinet/SSARP/main/man/figures/logo.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}], "images": [{"result": {"type": "Url", "value": "https://raw.githubusercontent.com/kmartinet/SSARP/main/man/figures/README-unnamed-chunk-6-1.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/kmartinet/SSARP/main/README.Rmd"}]}