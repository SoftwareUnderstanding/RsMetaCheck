{"somef_provenance": {"somef_version": "0.9.12", "somef_schema_version": "1.0.0", "date": "2025-11-17 14:00:57"}, "code_repository": [{"result": {"value": "https://github.com/fabricebrito/dev-platform-dask-gateway", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "owner": [{"result": {"value": "fabricebrito", "type": "User"}, "confidence": 1, "technique": "GitHub_API"}], "date_created": [{"result": {"value": "2024-09-03T06:12:42Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "date_updated": [{"result": {"value": "2025-01-23T11:53:20Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "description": [{"result": {"value": "Bootstraps a dask gateway deployment on minikube using skaffold", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"type": "Text_excerpt", "value": "This section is informative.\n \n", "original_header": "Dask Cluster configuration"}, "confidence": 0.8065311051290646, "technique": "supervised_classification", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}], "name": [{"result": {"value": "dev-platform-dask-gateway", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}], "full_name": [{"result": {"value": "fabricebrito/dev-platform-dask-gateway", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}], "issue_tracker": [{"result": {"value": "https://api.github.com/repos/fabricebrito/dev-platform-dask-gateway/issues", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "forks_url": [{"result": {"value": "https://api.github.com/repos/fabricebrito/dev-platform-dask-gateway/forks", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "forks_count": [{"result": {"value": 1, "type": "Number"}, "confidence": 1, "technique": "GitHub_API"}], "download_url": [{"result": {"value": "https://github.com/fabricebrito/dev-platform-dask-gateway/releases", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "programming_languages": [{"result": {"value": "Python", "name": "Python", "type": "Programming_language", "size": 25287}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Jupyter Notebook", "name": "Jupyter Notebook", "type": "Programming_language", "size": 11391}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Common Workflow Language", "name": "Common Workflow Language", "type": "Programming_language", "size": 7740}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Dockerfile", "name": "Dockerfile", "type": "Programming_language", "size": 816}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Shell", "name": "Shell", "type": "Programming_language", "size": 700}, "confidence": 1, "technique": "GitHub_API"}], "has_build_file": [{"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt", "type": "Url", "format": "requirements.txt"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/k8s/bai/Dockerfile", "type": "Url", "format": "dockerfile"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/k8s/bai/Dockerfile"}, {"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/option-b/bai/Dockerfile", "type": "Url", "format": "dockerfile"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/option-b/bai/Dockerfile"}, {"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/pod-procure/bai/Dockerfile", "type": "Url", "format": "dockerfile"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/pod-procure/bai/Dockerfile"}], "requirements": [{"result": {"value": "numpy==1.26.3", "name": "numpy", "version": "==1.26.3", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "dask==2024.1.0", "name": "dask", "version": "==2024.1.0", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "distributed==2024.1.0", "name": "distributed", "version": "==2024.1.0", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "dask-gateway==2024.1.0", "name": "dask-gateway", "version": "==2024.1.0", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "pystac==1.11.0", "name": "pystac", "version": "==1.11.0", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "bokeh==3.6.2", "name": "bokeh", "version": "==3.6.2", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "rioxarray==0.18.1", "name": "rioxarray", "version": "==0.18.1", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "loguru==0.7.3", "name": "loguru", "version": "==0.7.3", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "odc-stac[botocore]==0.3.10", "name": "odc-stac[botocore]", "version": "==0.3.10", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "stackstac==0.5.1", "name": "stackstac", "version": "==0.5.1", "type": "Software_application"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/requirements.txt"}, {"result": {"value": "* Minikube [installation](https://minikube.sigs.k8s.io/docs/start/?arch=%2Flinux%2Fx86-64%2Fstable%2Fbinary+download)\n* skaffold [installation](https://skaffold.dev/docs/install/#standalone-binary)\n", "type": "Text_excerpt", "original_header": "Requirements", "parent_header": ["Dask Gateway"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}], "version": [{"result": {"value": "1.0.0", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/codemeta.json"}], "has_script_file": [{"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/wait-for-it.sh", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}], "readme_url": [{"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}], "workflows": [{"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/k8s/bai.cwl", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}, {"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/option-b/bai.cwl", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}], "executable_example": [{"result": {"value": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/pod-procure/validate.ipynb", "type": "Url", "format": "jupyter_notebook"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/example/pod-procure/validate.ipynb"}], "installation": [{"result": {"value": "Start your minikube cluster:\n\n```\nminikube start\n```\n\nInstall Dask Gateway development platform with:\n\n```\nskaffold dev\n```\nThis builds and pushes two container images to minikube node image cache: \n\n- the worker image `worker` built with the docker file `Dockerfile.worker`\n- the client image `daskclient` built with the docker file `Dockerfile.client`\n\nAnd installs two helm releases:\n\n- `dask-gateway` using the chart https://helm.dask.org/dask-gateway-2024.1.0.tgz. The values set the worker image built with the docker file `Dockerfile.worker`. The Dask Gateway configuration is extended to allow clients to set `image`, `worker_cores`, `worker_cores_limit` and `worker_memory` (see the file `dask-gateway/values.yalm`)\n- `dask-session` a local chart creating a deployment with a pod running the image built with the docker file `Dockerfile.client`\n\n\nWait for the deployment to stabilize, the logs will show the tags of the built images, e.g.:\n\n```\nTags used in deployment:\n - worker -> worker:3853d0ad064e3f6b76696a81c99148113b44ac297759843d4c302017d4abaf45\n - daskclient -> daskclient:fc88475cf797d64f0069d3bb4119a86d092b8d9761c77dfa882aa845f2e53be5\n```\n\n\n\n```\nChecking cache...\n - worker: Found. Tagging\n - daskclient: Found. Tagging\nTags used in deployment:\n - worker -> worker:3853d0ad064e3f6b76696a81c99148113b44ac297759843d4c302017d4abaf45\n - daskclient -> daskclient:fc88475cf797d64f0069d3bb4119a86d092b8d9761c77dfa882aa845f2e53be5\nStarting deploy...\nHelm release dask-gateway not installed. Installing...\nNAME: dask-gateway\nLAST DEPLOYED: Fri Jul  5 16:43:16 2024\nNAMESPACE: dask-gateway\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nYou've installed Dask-Gateway version 2024.1.0, from chart\nversion 2024.1.0!\n\nYour release is named \"dask-gateway\" and installed into the\nnamespace \"dask-gateway\".\n\nYou can find the public address(es) at:\n\n  $ kubectl --namespace=dask-gateway get service traefik-dask-gateway\nHelm release dask-session not installed. Installing...\nNAME: dask-session\nLAST DEPLOYED: Fri Jul  5 16:43:17 2024\nNAMESPACE: dask-gateway\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nWARN[0012] image [worker:3853d0ad064e3f6b76696a81c99148113b44ac297759843d4c302017d4abaf45] is not used.  subtask=-1 task=DevLoop\nWARN[0012] See helm documentation on how to replace image names with their actual tags: https://skaffold.dev/docs/pipeline-stages/deployers/helm/#image-configuration  subtask=-1 task=DevLoop\nWaiting for deployments to stabilize...\n - dask-gateway:deployment/controller-dask-gateway is ready. [3/4 deployment(s) still pending]\n - dask-gateway:deployment/dask-session is ready. [2/4 deployment(s) still pending]\n - dask-gateway:deployment/api-dask-gateway: waiting for rollout to finish: 0 of 1 updated replicas are available...\n - dask-gateway:deployment/traefik-dask-gateway: waiting for rollout to finish: 0 of 1 updated replicas are available...\n - dask-gateway:deployment/traefik-dask-gateway is ready. [1/4 deployment(s) still pending]\n - dask-gateway:deployment/api-dask-gateway is ready.\nDeployments stabilized in 10.081 seconds\nStarting post-deploy hooks...\nDeployment replicas: 1\nDeployment with label app.kubernetes.io/name=dask-gateway is running\nCompleted post-deploy hooks\nPort forwarding service/traefik-dask-gateway in namespace dask-gateway, remote port 80 -> http://127.0.0.1:8001\nListing files to watch...\n - worker\n - daskclient\nPress Ctrl+C to exit\nWatching for changes...\n```\n\nOpen the browser on https://127.0.0.1:8001, this will print `404: Not Found`. This is ok, it is the Dask Gateway port forward that you can use from your local development environment.\n\n", "type": "Text_excerpt", "original_header": "Setup", "parent_header": ["Dask Gateway"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}, {"result": {"value": "If the `dask-gateway` Helm chart values includes:\n\n```yaml\ngateway:\n  extraConfig:\n    dask_gateway_config.py: |\n      c = get_config()\n      from dask_gateway_server.options import Options, String\n      c.Backend.cluster_options = Options(\n          String(\"image\", default=\"daskgateway/dask-worker:latest\", label=\"Worker Image\")\n      )\n```\n\nThen the Python code may define the Dask scheduler and workers' image: \n\n\n```python\nfrom dask_gateway import Gateway\nfrom time import sleep\n# Connect to the Dask Gateway\ngateway = Gateway(\"http://localhost:8001\")\n\n# Define cluster options with a custom worker container image\ncluster_options = gateway.cluster_options()\n\nprint(cluster_options)\ncluster_options['image'] = 'docker.io/library/worker:5ee153c-dirty'\n\n# Create a new cluster with the specified options\ncluster = gateway.new_cluster(cluster_options)\n\n# Scale the cluster as needed\ncluster.scale(5)\n\n# Use the cluster\nfrom dask.distributed import Client\nclient = Client(cluster)\n\nsleep(30)\n\ncluster.shutdown()\n```\n", "type": "Text_excerpt", "original_header": "Set the worker container image at runtime", "parent_header": ["Dask Gateway", "Dask Cluster configuration"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}, {"result": {"value": "If the Helm chart values includes:\n\n```yaml\ngateway:\n  extraConfig:\n    dask_gateway_config.py: |\n      c = get_config()\n      from dask_gateway_server.options import Options, String, Integer\n      c.Backend.cluster_options = Options(\n            Integer(\"worker_cores_limit\", default=1, label=\"Worker Cores Limit\"),\n            Integer(\"worker_cores\", default=1, label=\"Worker Cores\"),\n            String(\"worker_memory\", default=\"1 G\", label=\"Worker Memory\"),\n      )\n```\n\nThen you can use:\n\n```python\nfrom dask_gateway import Gateway\nfrom time import sleep\n# Connect to the Dask Gateway\ngateway = Gateway(\"http://localhost:8001\")\n\n# Define cluster options \ncluster_options = gateway.cluster_options()\n\ncluster_options['worker_cores'] = 1\ncluster_options['worker_cores_limit'] = 2\ncluster_options['worker_memory'] = \"2 G\"\n\n# Create a new cluster with the specified options\ncluster = gateway.new_cluster(cluster_options)\n\n# Scale the cluster as needed\ncluster.scale(5)\n\n# Use the cluster\nfrom dask.distributed import Client\nclient = Client(cluster)\n\nsleep(30)\nclient.close()\n\ncluster.shutdown()\n```\n\nThe `dask-gateway` helm chart values defines:\n\n```python\nc = get_config()\n      from dask_gateway_server.options import Options, String, Integer, Float\n      c.Backend.cluster_options = Options(\n        Float(\"worker_cores_limit\", default=1, label=\"Worker Cores Limit\"),\n        Float(\"worker_cores\", default=1, label=\"Worker Cores\"),\n        String(\"worker_memory\", default=\"1 G\", label=\"Worker Memory\"),\n        String(\"image\", default=\"daskgateway/dask-worker:latest\", label=\"Worker Image\")\n      )\n```\n\nso `worker_cores_limit`, `worker_cores`, `worker_memory` and `image` can be defined.", "type": "Text_excerpt", "original_header": "Set the worker cores and memory", "parent_header": ["Dask Gateway", "Dask Cluster configuration"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}], "run": [{"result": {"value": "Create a Python environment with:\n\n```\npython3 -m venv env_test_dask\nsource env_test_dask/bin/activate\npip install -r requirements.txt\n```\n\nUse the Python code below to get started:\n\n```\nfrom time import sleep\nfrom dask_gateway import Gateway\n\ngateway = Gateway(\"http://localhost:8001\")\n\nfrom dask_gateway import GatewayCluster\ncluster = gateway.new_cluster()\n\nprint(\"Scaling cluster to 4 workers\")\ncluster.scale(4)\nclient = cluster.get_client()\n\nprint(f\"Cluster dashboard: {cluster.dashboard_link}\")\n\nsleep(60)\n\ncluster.shutdown()\n```\n", "type": "Text_excerpt", "original_header": "Local client running on your machine", "parent_header": ["Dask Gateway", "Getting started"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}], "usage": [{"result": {"value": "Open a shell on the dask-session deployment pod. There are two environment variables set:\n\n- `DASK_GATEWAY_URL`: the Dask Gateway endpoint\n- `DASK_WORKER_IMAGE`: the container image for the dask scheduler and workers\n\n", "type": "Text_excerpt", "original_header": "Access the dask client pod", "parent_header": ["Dask Gateway", "Getting started"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}], "full_title": [{"result": {"type": "String", "value": "Dask Gateway"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/fabricebrito/dev-platform-dask-gateway/main/README.md"}]}