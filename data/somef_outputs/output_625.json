{"somef_provenance": {"somef_version": "0.9.12", "somef_schema_version": "1.0.0", "date": "2025-11-17 14:07:30"}, "code_repository": [{"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "owner": [{"result": {"value": "b-cubed-eu", "type": "Organization"}, "confidence": 1, "technique": "GitHub_API"}], "date_created": [{"result": {"value": "2024-04-18T14:00:03Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "date_updated": [{"result": {"value": "2025-04-15T09:59:35Z", "type": "Date"}, "confidence": 1, "technique": "GitHub_API"}], "description": [{"result": {"value": "Repository for the phylogenetic diversity indicator workflow as part of the B3 project. ", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "A package to calculate and produce a map of phylogenetic\n    diversity scores for each grid cell in the input species occurrences\n    data cube, and calculate the percentage of high PD cells within\n    currently protected areas.  You provide a phylogenetic tree, the\n    datacube for the corresponding species is downloaded from GBIF (or\n    user-uploaded), and the package does the rest.", "type": "String", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "A package to calculate and produce a map of phylogenetic diversity scores for each grid cell in the input species occurrences data cube, and calculate the percentage of high PD cells within currently protected areas. You provide a phylogenetic tree, the datacube for the corresponding species is downloaded from GBIF (or user-uploaded), and the package does the rest.", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}, {"result": {"type": "Text_excerpt", "value": "Phylogenetic diversity (PD) is a measure of biodiversity which takes\nevolution into account. It is calculated as the sum of the lengths of\nthe phylogenetic tree branches representing the minimum tree-spanning\npath among a group of species. Phylogenetic diversity can be used in\nconservation planning to maximise a variety of features, meaning we do\nnot aim to conserve specific features, but rather want to boost a\ndiverse range of features. Conserving a variety of features could be\nparticularly useful in light of the changing environmental conditions,\nas we can only guess which features will be important in the future. \nIn this package, we provide a workflow to calculate a metric that gives\ninformation about how well PD of a certain higher taxonomic group is\ncurrently safeguarded by protected areas and a spatial visualisation\nwhich can be used to identify potential directions for future expansion\nof protected areas.\n \n", "original_header": "pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />"}, "confidence": 0.9959150133375835, "technique": "supervised_classification", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "name": [{"result": {"value": "pdindicatoR", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "pdindicatoR: Calculate and visualize a phylogenetic diversity indicators based\n    on species occurrence data cubes", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "full_name": [{"result": {"value": "b-cubed-eu/pdindicatoR", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}], "issue_tracker": [{"result": {"value": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/issues", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR/issues", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR/issues", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "forks_url": [{"result": {"value": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/forks", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "keywords": [{"result": {"value": "biodiversity, conservation, datacube, indicator, phylogenetic-diversity, r", "type": "String"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": ["biodiversity", "r", "conservation", "datacube", "indicator", "phylogenetic-diversity"], "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "forks_count": [{"result": {"value": 3, "type": "Number"}, "confidence": 1, "technique": "GitHub_API"}], "homepage": [{"result": {"value": "https://b-cubed-eu.github.io/pdindicatoR/", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "https://b-cubed-eu.github.io/pdindicatoR/", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "https://doi.org/10.5281/zenodo.14237551", "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}], "download_url": [{"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR/releases", "type": "Url"}, "confidence": 1, "technique": "GitHub_API"}], "programming_languages": [{"result": {"value": "R", "name": "R", "type": "Programming_language", "size": 32373}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "CSS", "name": "CSS", "type": "Programming_language", "size": 600}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"value": "Rez", "name": "Rez", "type": "Programming_language", "size": 64}, "confidence": 1, "technique": "GitHub_API"}, {"result": {"name": "R", "value": "R", "type": "Programming_language", "url": "https://r-project.org"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "releases": [{"result": {"type": "Release", "value": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/releases/188071325", "tag": "v0.0.2", "name": "Release v0.0.2", "author": {"name": "LBreugelmans", "type": "User"}, "description": "Initial release", "tarball_url": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/tarball/v0.0.2", "zipball_url": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/zipball/v0.0.2", "html_url": "https://github.com/b-cubed-eu/pdindicatoR/releases/tag/v0.0.2", "url": "https://api.github.com/repos/b-cubed-eu/pdindicatoR/releases/188071325", "release_id": 188071325, "date_created": "2024-11-28T16:11:21Z", "date_published": "2024-11-28T16:23:42Z", "assets": []}, "confidence": 1, "technique": "GitHub_API"}], "citation": [{"result": {"value": "cff-version: 1.2.0\nmessage: If you use this software, please cite it using these metadata.\ntitle: \"pdindicatoR: Calculate and visualize a phylogenetic diversity indicators based\n  on species occurrence data cubes\"\nauthors:\n- given-names: Lissa\n  family-names: Breugelmans\n  affiliation: Meise Botanic Garden\n  orcid: 0000-0002-8472-3577\n- given-names: Maarten\n  family-names: Trekels\n  affiliation: Meise Botanic Garden\n  orcid: 0000-0001-8282-8765\n- given-names: Louise\n  family-names: Hendrickx\n  affiliation: Meise Botanic Garden\n  orcid: 0000-0002-9317-7862\nkeywords:\n- phylogenetic diversity\n- data cubes\n- B-Cubed\n- biodiversity\ncontact:\n- given-names: Lissa\n  family-names: Breugelmans\n  affiliation: Meise Botanic Garden\n  orcid: 0000-0002-8472-3577\ndoi: 10.5281/zenodo.14237551\nlicense: MIT\nrepository-code: https://github.com/b-cubed-eu/pdindicatoR/\ntype: software\nabstract: \"A package to calculate and produce a map of phylogenetic diversity scores\n  for each grid cell in the input species occurrences data cube, and calculate the\n  percentage of high PD cells within currently protected areas. You provide a phylogenetic\n  tree, the datacube for the corresponding species is downloaded from GBIF (or user-uploaded),\n  and the package does the rest.\"\nidentifiers:\n- type: doi\n  value: 10.5281/zenodo.14237551\n- type: url\n  value: https://b-cubed-eu.github.io/pdindicatoR/\nversion: 0.1.0\n", "type": "File_dump", "author": [{"type": "Agent", "name": "Lissa Breugelmans", "family_name": "Breugelmans", "given_name": "Lissa", "url": "https://orcid.org/0000-0002-8472-3577"}, {"type": "Agent", "name": "Maarten Trekels", "family_name": "Trekels", "given_name": "Maarten", "url": "https://orcid.org/0000-0001-8282-8765"}, {"type": "Agent", "name": "Louise Hendrickx", "family_name": "Hendrickx", "given_name": "Louise", "url": "https://orcid.org/0000-0002-9317-7862"}], "title": "pdindicatoR: Calculate and visualize a phylogenetic diversity indicators based on species occurrence data cubes", "url": "https://doi.org/10.5281/zenodo.14237551", "doi": "10.5281/zenodo.14237551", "format": "cff"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/CITATION.cff"}], "license": [{"result": {"value": "# MIT License\n\nCopyright (c) 2024 Meise Botanic Garden (MeiseBG)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n", "type": "File_dump", "name": "MIT License", "spdx_id": "MIT"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/LICENSE.md"}, {"result": {"value": "MIT + file LICENSE", "type": "String", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "https://spdx.org/licenses/MIT", "type": "License", "identifier": "https://spdx.org/licenses/https://spdx.org/licenses/MIT", "spdx_id": "https://spdx.org/licenses/MIT"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "readme_url": [{"result": {"value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}, {"result": {"value": "https://github.com/b-cubed-eu/pdindicatoR/blob/main/README.md", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}, {"result": {"value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.md", "type": "Url"}, "confidence": 1, "technique": "file_exploration"}], "has_build_file": [{"result": {"value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION", "type": "Url", "format": "description"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}], "has_package_file": [{"result": {"value": "DESCRIPTION", "type": "Url", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}], "package_id": [{"result": {"value": "pdindicatoR", "type": "String", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}], "version": [{"result": {"value": "0.1.0", "type": "String", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "0.1.0", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "authors": [{"result": {"value": [{"value": "Lissa Breugelmans", "email": "lissa.breugelmans@plantentuinmeise.be"}], "type": "Agent", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/DESCRIPTION"}, {"result": {"value": "Lissa Breugelmans", "type": "String", "email": "lissa.breugelmans@plantentuinmeise.be", "identifier": "https://orcid.org/0000-0002-8472-3577"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}, {"result": {"value": "Maarten Trekels", "type": "String", "email": "maarten.trekels@plantentuinmeise.be", "identifier": "https://orcid.org/0000-0001-8282-8765"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}, {"result": {"value": "Louise Hendrickx", "type": "String", "email": "louise.hendrickx@plantentuinmeise.be", "identifier": "https://orcid.org/0000-0002-9317-7862"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "continuous_integration": [{"result": {"value": ["https://github.com/b-cubed-eu/pdindicatoR/actions/workflows/R-CMD-check.yaml", "https://app.codecov.io/gh/b-cubed-eu/pdindicatoR"], "type": "Url"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "development_status": [{"result": {"value": "https://www.repostatus.org/#wip", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}], "identifier": [{"result": {"value": "pdindicatoR", "type": "String"}, "confidence": 1, "technique": "code_parser", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/codemeta.json"}, {"result": {"type": "Url", "value": "https://doi.org/10.5281/zenodo.14237551"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "contributing_guidelines": [{"result": {"value": "# Contributing to pdindicatoR\n\nThis outlines how to propose a change to pdindicatoR.\nFor a detailed discussion on contributing to this and other tidyverse packages, please see the [development contributing guide](https://rstd.io/tidy-contrib) and our [code review principles](https://code-review.tidyverse.org/).\n\n## Fixing typos\n\nYou can fix typos, spelling mistakes, or grammatical errors in the documentation directly using the GitHub web interface, as long as the changes are made in the _source_ file. \nThis generally means you'll need to edit [roxygen2 comments](https://roxygen2.r-lib.org/articles/roxygen2.html) in an `.R`, not a `.Rd` file. \nYou can find the `.R` file that generates the `.Rd` by reading the comment in the first line.\n\n## Bigger changes\n\nIf you want to make a bigger change, it's a good idea to first file an issue and make sure someone from the team agrees that it\u2019s needed. \nIf you\u2019ve found a bug, please file an issue that illustrates the bug with a minimal \n[reprex](https://www.tidyverse.org/help/#reprex) (this will also help you write a unit test, if needed).\nSee our guide on [how to create a great issue](https://code-review.tidyverse.org/issues/) for more advice.\n\n### Pull request process\n\n*   Fork the package and clone onto your computer. If you haven't done this before, we recommend using `usethis::create_from_github(\"b-cubed-eu/pdindicatoR\", fork = TRUE)`.\n\n*   Install all development dependencies with `devtools::install_dev_deps()`, and then make sure the package passes R CMD check by running `devtools::check()`. \n    If R CMD check doesn't pass cleanly, it's a good idea to ask for help before continuing. \n*   Create a Git branch for your pull request (PR). We recommend using `usethis::pr_init(\"brief-description-of-change\")`.\n\n*   Make your changes, commit to git, and then create a PR by running `usethis::pr_push()`, and following the prompts in your browser.\n    The title of your PR should briefly describe the change.\n    The body of your PR should contain `Fixes #issue-number`.\n\n*  For user-facing changes, add a bullet to the top of `NEWS.md` (i.e. just below the first header). Follow the style described in <https://style.tidyverse.org/news.html>.\n\n### Code style\n\n*   New code should follow the tidyverse [style guide](https://style.tidyverse.org). \n    You can use the [styler](https://CRAN.R-project.org/package=styler) package to apply these styles, but please don't restyle code that has nothing to do with your PR.  \n\n*  We use [roxygen2](https://cran.r-project.org/package=roxygen2), with [Markdown syntax](https://cran.r-project.org/web/packages/roxygen2/vignettes/rd-formatting.html), for documentation.  \n\n*  We use [testthat](https://cran.r-project.org/package=testthat) for unit tests. \n   Contributions with test cases included are easier to accept.  \n\n## Code of Conduct\n\nPlease note that the pdindicatoR project is released with a\n[Contributor Code of Conduct](CODE_OF_CONDUCT.md). By contributing to this\nproject you agree to abide by its terms.\n", "type": "File_dump"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/.github/CONTRIBUTING.md"}], "code_of_conduct": [{"result": {"value": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nWe as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, caste, color, religion, or sexual\nidentity and orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\n\n## Our Standards\n\nExamples of behavior that contributes to a positive environment for our\ncommunity include:\n\n* Demonstrating empathy and kindness toward other people\n* Being respectful of differing opinions, viewpoints, and experiences\n* Giving and gracefully accepting constructive feedback\n* Accepting responsibility and apologizing to those affected by our mistakes,\n  and learning from the experience\n* Focusing on what is best not just for us as individuals, but for the overall\n  community\n\nExamples of unacceptable behavior include:\n\n* The use of sexualized language or imagery, and sexual attention or advances of\n  any kind\n* Trolling, insulting or derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or email address,\n  without their explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Enforcement Responsibilities\n\nCommunity leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\n\nCommunity leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\n\n## Scope\n\nThis Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official e-mail address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at b-cubedsupport@meisebotanicgarden.be. \nAll complaints will be reviewed and investigated promptly and fairly.\n\nAll community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\n\n## Enforcement Guidelines\n\nCommunity leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\n\n### 1. Correction\n\n**Community Impact**: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\n\n**Consequence**: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\n\n### 2. Warning\n\n**Community Impact**: A violation through a single incident or series of\nactions.\n\n**Consequence**: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or permanent\nban.\n\n### 3. Temporary Ban\n\n**Community Impact**: A serious violation of community standards, including\nsustained inappropriate behavior.\n\n**Consequence**: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\n\n### 4. Permanent Ban\n\n**Community Impact**: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior, harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\n\n**Consequence**: A permanent ban from any sort of public interaction within the\ncommunity.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage],\nversion 2.1, available at\n<https://www.contributor-covenant.org/version/2/1/code_of_conduct.html>.\n\nCommunity Impact Guidelines were inspired by\n[Mozilla's code of conduct enforcement ladder][https://github.com/mozilla/inclusion].\n\nFor answers to common questions about this code of conduct, see the FAQ at\n<https://www.contributor-covenant.org/faq>. Translations are available at <https://www.contributor-covenant.org/translations>.\n\n[homepage]: https://www.contributor-covenant.org\n", "type": "File_dump"}, "confidence": 1, "technique": "file_exploration", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/.github/CODE_OF_CONDUCT.md"}], "installation": [{"result": {"value": "Install **pdindicatoR** in R:\n\n``` r\ninstall.packages(\"pdindicatoR\", repos = \"https://b-cubed-eu.r-universe.dev\")\n```\n\nYou can install the development version from\n[GitHub](https://github.com/) with:\n\n``` r\n# install.packages(\"remotes\")\nremotes::install_github(\"b-cubed-eu/pdindicatoR\")\n```\n", "type": "Text_excerpt", "original_header": "Installation", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "usage": [{"result": {"value": "This example shows a basic workflow for using the functions in the\n**pdindicatoR** package to calculate PD from a phylogenetic tree and an\noccurrence cube with occurrences for a certain higher taxon, produce a\ngridded map of PD scores with colour gradient scale, and show the\noverlap with protected areas.\n\n``` r\n# Load packages\nlibrary(pdindicatoR)\n\nlibrary(sf)      # working with spatial objects\nlibrary(dplyr)   # data wrangling\n```\n", "type": "Text_excerpt", "original_header": "Example workflow", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "In order to start the workflow, the user should specify the filepaths to\na phylogenetic tree, a species data occurrence cube, and two\nshapefiles:  \n1) a grid, which should correspond to the grid used to generate the\ndatacube  \n2) a polygon shapefile with boundaries of protected areas.\n\nThe phylogenetic tree should be in either nexus or newick format. The\nspecies occurrence cube must have the same variable names as the example\ndatacube (or the columns should be renamed after loading). For more\ninformation on how to obtain species occurrence cubes from GBIF and\nphylogenetic trees to be used with this package, we refer to the\nvignette \u2018Finding datasets to use with pdindicatoR\u2019.\n\nThe following functions can be used to read in datafiles:\n\n``` r\ntree_path <- \"/path/to/mytree.tre\" \ncube_path <- \"/path/to/mycube.csv\"\ngrid_path <- \"/path/to/grid.shp\"\n\n# Read in newick or nexus format phylogenetic tree\nlibrary(ape)\ntree <- ape::read.tree(tree_path)\n\n# Read in species occurrence data cube. Use appropriate seperator!\ncube <- read.csv(cube_path, stringsAsFactors = FALSE, sep = \"\\t\") \n\n# Read in grid and protected areas shapefile\ngrid <- sf::st_read(grid_filepath)\n```\n", "type": "Text_excerpt", "original_header": "Reading in data", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "For this example workflow, we will be using the example data that is\nincluded in the **pdindicatoR** package. The example data can be loaded\nby using the function `retrieve_example_data()`\n\n``` r\nex_data <- retrieve_example_data()\ntree <- ex_data$tree \ncube <- ex_data$cube \ngrid <- ex_data$grid\npa <- ex_data$pa\n```\n", "type": "Text_excerpt", "original_header": "Loading example data", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "We plot the tree and print the first lines of the occurrence cube to\nconfirm they are processed correctly.\n\n``` r\noptions(width = 1000)\nplot(tree, cex = 0.35, y.lim = 100)\n```\n\n<img src=\"man/figures/unnamed-chunk-2-1.png\" alt=\"Phylogenetic tree\"  />\n\n``` r\nhead(cube)\n```\n\n    ##   year   eeacellcode specieskey           species establishmentmeans degreeofestablishment pathway occurrences distinctobservers\n    ## 1 2024 1kmE3996N3087    2880539     Quercus rubra                                       NA      NA           1                 1\n    ## 2 2024 1kmE3997N3088    3054357     Juglans nigra                                       NA      NA           2                 1\n    ## 3 2024 1kmE3997N3090    3054368     Juglans regia                                       NA      NA           1                 1\n    ## 4 2024 1kmE3997N3100    2880539     Quercus rubra                                       NA      NA           1                 1\n    ## 5 2024 1kmE3997N3104    5333294   Castanea sativa                                       NA      NA           1                 1\n    ## 6 2024 1kmE3997N3104    8313153 Quercus palustris                                       NA      NA           1                 1\n", "type": "Text_excerpt", "original_header": "Inspect tree and cube", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "The leaf labels of a phylogenetic tree downloaded from the OTL database\nare specified as either species names or OTL id\u2019s (`ott_id`). We can use\nthe function `taxonmatch()` to retrieve the corresponding GBIF id\u2019s.\n\n``` r\nmatched <- taxonmatch(tree)\nhead(matched)\n```\n\n    ##               search_string               unique_name approximate_match score  ott_id is_synonym  flags number_matches gbif_id             orig_tiplabel\n    ## 1     alfaroa costaricensis     Alfaroa costaricensis             FALSE     1  199041      FALSE                     1 7310550     Alfaroa costaricensis\n    ## 2    alfaroa guanacastensis    Alfaroa guanacastensis             FALSE     1  199043      FALSE                     2      NA    Alfaroa guanacastensis\n    ## 3         alfaroa manningii         Alfaroa manningii             FALSE     1  199049      FALSE                     1 4205554         Alfaroa manningii\n    ## 4        alfaroa williamsii        Alfaroa williamsii             FALSE     1 1064109      FALSE                     1 7310534        Alfaroa williamsii\n    ## 5                alfaropsis                Alfaropsis             FALSE     1  200433      FALSE barren              2      NA                Alfaropsis\n    ## 6 allocasuarina acutivalvis Allocasuarina acutivalvis             FALSE     1  769753      FALSE                     1 2891875 Allocasuarina acutivalvis\n\nCarefully evaluate the table with matches to ensure that matching scores\nare acceptable and that most species have a corresponding `gbif_id`.\nSpecies that cannot be reliable matched or that don\u2019t have an associated\n`gbif_id`, can not contribute to the PD calculation and should be\nremoved.\n\n``` r\nmatched_nona <- matched %>%\n  dplyr::filter(!is.na(gbif_id))\n```\n\nThen, we can use the function `append_ott_id()` to append the `ott_id`\u2019s\nas a new variable to the provided datacube, by joining on `gbif_id`.\n\n``` r\nmcube <- append_ott_id(tree, cube, matched_nona)\nhead(mcube)\n```\n\n    ##   year   eeacellcode specieskey           species establishmentmeans degreeofestablishment pathway occurrences distinctobservers  ott_id       unique_name     orig_tiplabel\n    ## 1 2024 1kmE3996N3087    2880539     Quercus rubra                                       NA      NA           1                 1  791115     Quercus rubra     Quercus rubra\n    ## 2 2024 1kmE3997N3088    3054357     Juglans nigra                                       NA      NA           2                 1 1072887     Juglans nigra     Juglans nigra\n    ## 3 2024 1kmE3997N3090    3054368     Juglans regia                                       NA      NA           1                 1  138717     Juglans regia     Juglans regia\n    ## 4 2024 1kmE3997N3100    2880539     Quercus rubra                                       NA      NA           1                 1  791115     Quercus rubra     Quercus rubra\n    ## 5 2024 1kmE3997N3104    5333294   Castanea sativa                                       NA      NA           1                 1 1028994   Castanea sativa   Castanea sativa\n    ## 6 2024 1kmE3997N3104    8313153 Quercus palustris                                       NA      NA           1                 1  538292 Quercus palustris Quercus palustris\n\nWhen species in the datacube are not included in the provided\nphylogenetic tree, the `ott_id` variable will be `NA`. We can use the\nfunction check_completeness() to see how complete the provided\nphylogenetic tree is.\n\n``` r\ncheck_completeness(mcube)\n```\n\n    ## The following species are not part of the provided phylogenetic tree:\n    ##    specieskey                 species\n    ## 1     9148577            Alnus incana\n    ## 2          NA                        \n    ## 3     2880130         Quercus petraea\n    ## 4     2880580          Quercus cerris\n    ## 5     8288647 Pterocarya fraxinifolia\n    ## 6     2879292         Quercus rosacea\n    ## 7     2879520        Quercus conferta\n    ## 8     2876571         Alnus pubescens\n    ## 9     7797155           Alnus hirsuta\n    ## 10    2880652         Quercus phellos\n\nPlease note that occurrence records for species that are not part of the\nprovided phylogenetic tree will need to be removed. In case this number\nis large, please consider searching for a more complete phylogenetic\ntree that covers all your species!\n\n``` r\nmcube <- mcube %>%\n  dplyr::filter(!is.na(ott_id))\n```\n", "type": "Text_excerpt", "original_header": "Matching species in phylogenetic tree and datacube", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "We can used the function get_pd_cube() to calculate the PD values per\ngridcell. This function first creates a new aggregated cube, with a list\nof observed species for each grid cell. The optional argument\n`timegroup` can be used to indicate a time interval for which the PD\nmetrics should be calculated, e.g.\u00a0`timegroup = 5` calculates PD for all\noccurrences observed within a timespan of 5 years and produces a\nseparate map and indicator for each period. If no `timegroup` argument\nis specified, all occurrences in the dataset will be aggregated over\ntime. The argument `metric` can be used to specify which PD metric needs\nto be calculated. The PD values will be appended to the datacube as a\n\n``` r\npd_cube <- get_pd_cube(mcube, tree, metric = \"faith\")\n```\n", "type": "Text_excerpt", "original_header": "Calculate Phylogenetic Diversity for each grid cell", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "Finally we read in the EEA Grid shapefiles and merge them to the\noccurrence cube by joining on the `eeaCellCode` field. The PD cube can\nthen be plotted and overlaid with a polygon layer depicting the\nboundaries of WDPA protected areas.\n", "type": "Text_excerpt", "original_header": "Visualize PD on a map &amp; calculate indicator", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"value": "The function generate_map_and_indicator() can be used to generate a map\nvisualizing phylogenetic diversity covering the geographic area that is\nused to generate the occurrence cube.If more detailed maps are desired,\nthe optional argument `bbox_custom` can be used to delineate the\nbounding box. Coordinates for the desired geographic area can be\ndetermined using <https://epsg.io/> and selecting the CRS of the used\ngrid.\n\n``` r\npdindicator <- generate_map_and_indicator(pd_cube, grid, \"Fagales\")\npdindicator\n```\n\n<img src=\"man/figures/unnamed-chunk-9-1.png\" alt=\"PD map\"  />\n\n``` r\n# Optionally specify a custom bounding box\n# bbox_custom <- c(xmin,xmax,ymin,ymax)\n# pdmap <- generate_map_and_indicator(pd_cube, grid, \"Musteloidea\", bbox_custom)\n```\n\nIf the optional parameter `cutoff` is specified, than this value is used\nto classify cells as *high PD* cells if their PD exceeds this threshold\nvalue. An indicator value is then calculated as the percentage of high\nPD cell centerpoints that fall within the boundaries of protected areas.\nThe result is stored as a list, with two maps in the first element (PD\nmap and high/low PD map) and the indicator value as the second element.\n\n``` r\npdindicator <- generate_map_and_indicator(\n  pd_cube,\n  grid,\n  \"Fagales\",\n  cutoff = 450)\n\nplots <- pdindicator[[1]]\nindicators <- pdindicator[[2]]\n```\n\n``` r\nprint(plots)\n```\n\n    ## [[1]]\n\n![](man/figures/unnamed-chunk-11-1.png)\n\n    ## \n    ## [[2]]\n\n![](man/figures/unnamed-chunk-11-2.png)\n\n``` r\nprint(paste(\"The percentage of high PD grid cells that fall within\",\n                \"protected areas is\", round(indicators$Overall, digits=2), \"%\"))\n```\n\n    ## [1] \"The percentage of high PD grid cells that fall within protected areas is 23.46 %\"", "type": "Text_excerpt", "original_header": "Plot PD map", "parent_header": ["pdindicatoR <img src=\"man/figures/logo.png\" align=\"right\" height=\"139\" alt=\"\" />", "Example workflow", "Visualize PD on a map &amp; calculate indicator"]}, "confidence": 1, "technique": "header_analysis", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "full_title": [{"result": {"type": "String", "value": "pdindicatoR"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "logo": [{"result": {"type": "Url", "value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/man/figures/logo.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}], "images": [{"result": {"type": "Url", "value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/man/figures/unnamed-chunk-2-1.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"type": "Url", "value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/man/figures/unnamed-chunk-9-1.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"type": "Url", "value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/man/figures/unnamed-chunk-11-1.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}, {"result": {"type": "Url", "value": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/man/figures/unnamed-chunk-11-2.png"}, "confidence": 1, "technique": "regular_expression", "source": "https://raw.githubusercontent.com/b-cubed-eu/pdindicatoR/main/README.Rmd"}]}